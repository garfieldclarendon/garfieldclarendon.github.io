\hypertarget{class_u_d_p_message}{}\section{U\+D\+P\+Message Class Reference}
\label{class_u_d_p_message}\index{U\+D\+P\+Message@{U\+D\+P\+Message}}


A class for handling U\+DP messages sent between controllers and the application server.  




{\ttfamily \#include $<$U\+D\+P\+Message.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_u_d_p_message_a823351519fc5818ccc03030c6947e620}{U\+D\+P\+Message} (void)
\item 
\hyperlink{class_u_d_p_message_adbc0139ef0249efd4a932bbc0b57fe13}{U\+D\+P\+Message} (const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&other)
\item 
\hyperlink{class_u_d_p_message_a6edf87f4f8f441edf2064d5f6fa5cd02}{U\+D\+P\+Message} (const \hyperlink{struct_u_d_p_message_struct}{U\+D\+P\+Message\+Struct} \&other)
\item 
\hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \& \hyperlink{class_u_d_p_message_af3bb7f16fec948bcfbf99646b79c5c58}{operator=} (const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&other)
\item 
\mbox{\Hypertarget{class_u_d_p_message_ad732ecdc07825ce944b251b0e8f55e90}\label{class_u_d_p_message_ad732ecdc07825ce944b251b0e8f55e90}} 
bool \hyperlink{class_u_d_p_message_ad732ecdc07825ce944b251b0e8f55e90}{is\+Valid} (void) const
\begin{DoxyCompactList}\small\item\em Returns true if the message is considered valid. At minimum, a valid message has its message ID set to a value greater than zero. \end{DoxyCompactList}\item 
void \hyperlink{class_u_d_p_message_aba4aadebe7b1aa92ba558f3cd4319e79}{set\+Message\+ID} (unsigned char value)
\item 
void \hyperlink{class_u_d_p_message_a2fcacc64fbb5598848a391c9fd9aa8c2}{set\+ID} (long value)
\item 
void \hyperlink{class_u_d_p_message_ad7f1c729cf357be18e6cda695f5e5d99}{set\+Field} (unsigned char field\+Index, unsigned char value)
\item 
\mbox{\Hypertarget{class_u_d_p_message_a83b544583226eb4e6b51237c9f350e0f}\label{class_u_d_p_message_a83b544583226eb4e6b51237c9f350e0f}} 
int \hyperlink{class_u_d_p_message_a83b544583226eb4e6b51237c9f350e0f}{get\+Device\+ID} (unsigned char index) const
\begin{DoxyCompactList}\small\item\em returns the device ID from the device entry at the given index. \end{DoxyCompactList}\item 
void \hyperlink{class_u_d_p_message_a9cf9c5e20119a221ee36412e0c1d39c5}{set\+Device\+ID} (unsigned char index, int value)
\item 
\mbox{\Hypertarget{class_u_d_p_message_acc249c0f6c658bc56c2161946715eb22}\label{class_u_d_p_message_acc249c0f6c658bc56c2161946715eb22}} 
int \hyperlink{class_u_d_p_message_acc249c0f6c658bc56c2161946715eb22}{get\+Device\+Status} (unsigned char index) const
\begin{DoxyCompactList}\small\item\em returns the status from the device entry at the given index. \end{DoxyCompactList}\item 
void \hyperlink{class_u_d_p_message_a2dcad6fc97802808675fb9259727da64}{set\+Device\+Status} (unsigned char index, int value)
\item 
\mbox{\Hypertarget{class_u_d_p_message_aeea2288e53b4c6db7861181b5fc8aa5e}\label{class_u_d_p_message_aeea2288e53b4c6db7861181b5fc8aa5e}} 
char $\ast$ \hyperlink{class_u_d_p_message_aeea2288e53b4c6db7861181b5fc8aa5e}{get\+Ref} (void) const
\begin{DoxyCompactList}\small\item\em returns a reference to the internal \hyperlink{struct_u_d_p_message_struct}{U\+D\+P\+Message\+Struct} \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_u_d_p_message_a9e762f6c16fa298afe87b9dd6cee41c2}\label{class_u_d_p_message_a9e762f6c16fa298afe87b9dd6cee41c2}} 
unsigned char \hyperlink{class_u_d_p_message_a9e762f6c16fa298afe87b9dd6cee41c2}{get\+Message\+ID} (void) const
\begin{DoxyCompactList}\small\item\em returns the message\+ID. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_u_d_p_message_add45e9751d72e7d789ed6dcdb06c23d2}\label{class_u_d_p_message_add45e9751d72e7d789ed6dcdb06c23d2}} 
long \hyperlink{class_u_d_p_message_add45e9751d72e7d789ed6dcdb06c23d2}{get\+ID} (void) const
\begin{DoxyCompactList}\small\item\em returns the ID \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_u_d_p_message_a65fed9ee9c6dc936e1c9d1ae3052d1f7}\label{class_u_d_p_message_a65fed9ee9c6dc936e1c9d1ae3052d1f7}} 
unsigned char \hyperlink{class_u_d_p_message_a65fed9ee9c6dc936e1c9d1ae3052d1f7}{get\+Transaction\+Number} (void) const
\begin{DoxyCompactList}\small\item\em returns the transaction number \end{DoxyCompactList}\item 
void \hyperlink{class_u_d_p_message_a27629d5cab43160d53cedfd894e1c216}{set\+Transaction\+Number} (unsigned char value)
\item 
unsigned char \hyperlink{class_u_d_p_message_a869585e0916d3b9edf99111f8fc74709}{get\+Field} (unsigned char field\+Index) const
\item 
void \hyperlink{class_u_d_p_message_a313c116a2f7f0f134745ed0c4a759733}{copy\+From} (const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&other)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A class for handling U\+DP messages sent between controllers and the application server. 

\hyperlink{class_u_d_p_message}{U\+D\+P\+Message} This class along with the \hyperlink{struct_u_d_p_message_struct}{Message Structure} contains the data layout of a U\+DP message. Messages are sent from controller-\/to-\/controller in a peer-\/to-\/peer fasion using U\+DP uni-\/cast. Each controller contains a list of \char`\"{}controllers to notify\char`\"{} in its configuration data. Each time a device needs to send a command or status message, the controller\textquotesingle{}s Network Manager sends the message to all controllers contained in the notification list. Each controller listens for the \hyperlink{group___u_d_p_message_i_d_ga23aab89076591390a1dbc412a3a07314}{S\+Y\+S\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+O\+N\+L\+I\+NE} broadcast message which is sent by each controller upon startup. Upon resceiving this message, the controller checks to see if the controller\textquotesingle{}s ID is contained in its notification list and, if so, stores the address of the sending controller which is stored in field\mbox{[}0\mbox{]} -\/ field\mbox{[}3\mbox{]} and then responds by sending device status messages. If the controller misses this message, the controller sends a \hyperlink{group___u_d_p_message_i_d_gadfda0e5a5a6a08de555dd55182a4cd87}{S\+Y\+S\+\_\+\+F\+I\+N\+D\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+ER} broadcast message every 3 seconds for each controller in its notification list until it recieves a corresponding \hyperlink{group___u_d_p_message_i_d_ga23aab89076591390a1dbc412a3a07314}{S\+Y\+S\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+O\+N\+L\+I\+NE} message from each controller. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_u_d_p_message_a823351519fc5818ccc03030c6947e620}\label{class_u_d_p_message_a823351519fc5818ccc03030c6947e620}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{U\+D\+P\+Message()}{UDPMessage()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily U\+D\+P\+Message\+::\+U\+D\+P\+Message (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Contstructor Creates a blank, invalid contsturctor auto-\/generating the transaction number by incrementing the static \mbox{\Hypertarget{class_u_d_p_message_adbc0139ef0249efd4a932bbc0b57fe13}\label{class_u_d_p_message_adbc0139ef0249efd4a932bbc0b57fe13}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{U\+D\+P\+Message()}{UDPMessage()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily U\+D\+P\+Message\+::\+U\+D\+P\+Message (\begin{DoxyParamCaption}\item[{const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Copy constructor Creates a new \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} copying the information from other creating an exact copy (including the transaction number) 
\begin{DoxyParams}{Parameters}
{\em other} & A \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} to use as the soruce \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a6edf87f4f8f441edf2064d5f6fa5cd02}\label{class_u_d_p_message_a6edf87f4f8f441edf2064d5f6fa5cd02}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{U\+D\+P\+Message()}{UDPMessage()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily U\+D\+P\+Message\+::\+U\+D\+P\+Message (\begin{DoxyParamCaption}\item[{const \hyperlink{struct_u_d_p_message_struct}{U\+D\+P\+Message\+Struct} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Convenience constructor Creates a new \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} using the data supplied in the supplied \hyperlink{struct_u_d_p_message_struct}{U\+D\+P\+Message\+Struct} 
\begin{DoxyParams}{Parameters}
{\em other} & A \hyperlink{struct_u_d_p_message_struct}{U\+D\+P\+Message\+Struct} to use as the soruce \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_u_d_p_message_a313c116a2f7f0f134745ed0c4a759733}\label{class_u_d_p_message_a313c116a2f7f0f134745ed0c4a759733}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!copy\+From@{copy\+From}}
\index{copy\+From@{copy\+From}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{copy\+From()}{copyFrom()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::copy\+From (\begin{DoxyParamCaption}\item[{const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

replaces the data of the message creating a copy Replaces the message data; copying the information from other. This function does N\+OT copy the transaction number, rather, a new transaction number is created. 
\begin{DoxyParams}{Parameters}
{\em other} & A \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} to use as the soruce \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a869585e0916d3b9edf99111f8fc74709}\label{class_u_d_p_message_a869585e0916d3b9edf99111f8fc74709}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!get\+Field@{get\+Field}}
\index{get\+Field@{get\+Field}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{get\+Field()}{getField()}}
{\footnotesize\ttfamily unsigned char U\+D\+P\+Message\+::get\+Field (\begin{DoxyParamCaption}\item[{unsigned char}]{field\+Index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns one of the bytes in the 32 byte payload. 
\begin{DoxyParams}{Parameters}
{\em field\+Index} & index of the field to retrieve. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_af3bb7f16fec948bcfbf99646b79c5c58}\label{class_u_d_p_message_af3bb7f16fec948bcfbf99646b79c5c58}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!operator=@{operator=}}
\index{operator=@{operator=}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \hyperlink{class_u_d_p_message}{U\+D\+P\+Message}\& U\+D\+P\+Message\+::operator= (\begin{DoxyParamCaption}\item[{const \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Assignment Replaces the message data; copying the information from other creating an exact copy (including the transaction number) 
\begin{DoxyParams}{Parameters}
{\em other} & A \hyperlink{class_u_d_p_message}{U\+D\+P\+Message} to use as the soruce \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a9cf9c5e20119a221ee36412e0c1d39c5}\label{class_u_d_p_message_a9cf9c5e20119a221ee36412e0c1d39c5}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+Device\+ID@{set\+Device\+ID}}
\index{set\+Device\+ID@{set\+Device\+ID}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+Device\+I\+D()}{setDeviceID()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+Device\+ID (\begin{DoxyParamCaption}\item[{unsigned char}]{index,  }\item[{int}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets the device ID of one of the device entries. 
\begin{DoxyParams}{Parameters}
{\em index} & index of the field to set \\
\hline
{\em value} & an int containing the device ID. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a2dcad6fc97802808675fb9259727da64}\label{class_u_d_p_message_a2dcad6fc97802808675fb9259727da64}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+Device\+Status@{set\+Device\+Status}}
\index{set\+Device\+Status@{set\+Device\+Status}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+Device\+Status()}{setDeviceStatus()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+Device\+Status (\begin{DoxyParamCaption}\item[{unsigned char}]{index,  }\item[{int}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets the status of one of the device entries. 
\begin{DoxyParams}{Parameters}
{\em index} & index of the field to set \\
\hline
{\em value} & an int containing the status of the device. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_ad7f1c729cf357be18e6cda695f5e5d99}\label{class_u_d_p_message_ad7f1c729cf357be18e6cda695f5e5d99}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+Field@{set\+Field}}
\index{set\+Field@{set\+Field}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+Field()}{setField()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+Field (\begin{DoxyParamCaption}\item[{unsigned char}]{field\+Index,  }\item[{unsigned char}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets one of the bytes in the 32 byte payload. 
\begin{DoxyParams}{Parameters}
{\em field\+Index} & index of the field to set \\
\hline
{\em value} & a byte containing the new value. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a2fcacc64fbb5598848a391c9fd9aa8c2}\label{class_u_d_p_message_a2fcacc64fbb5598848a391c9fd9aa8c2}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+ID@{set\+ID}}
\index{set\+ID@{set\+ID}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+I\+D()}{setID()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+ID (\begin{DoxyParamCaption}\item[{long}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets the ID. 
\begin{DoxyParams}{Parameters}
{\em value} & an long integer value that represents the controller\textquotesingle{}s ID, serial number or a route ID depending on the \hyperlink{group___u_d_p_message_i_d}{message}. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_aba4aadebe7b1aa92ba558f3cd4319e79}\label{class_u_d_p_message_aba4aadebe7b1aa92ba558f3cd4319e79}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+Message\+ID@{set\+Message\+ID}}
\index{set\+Message\+ID@{set\+Message\+ID}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+Message\+I\+D()}{setMessageID()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+Message\+ID (\begin{DoxyParamCaption}\item[{unsigned char}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets the message ID. 
\begin{DoxyParams}{Parameters}
{\em value} & \hyperlink{group___u_d_p_message_i_d}{Message ID} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_u_d_p_message_a27629d5cab43160d53cedfd894e1c216}\label{class_u_d_p_message_a27629d5cab43160d53cedfd894e1c216}} 
\index{U\+D\+P\+Message@{U\+D\+P\+Message}!set\+Transaction\+Number@{set\+Transaction\+Number}}
\index{set\+Transaction\+Number@{set\+Transaction\+Number}!U\+D\+P\+Message@{U\+D\+P\+Message}}
\subsubsection{\texorpdfstring{set\+Transaction\+Number()}{setTransactionNumber()}}
{\footnotesize\ttfamily void U\+D\+P\+Message\+::set\+Transaction\+Number (\begin{DoxyParamCaption}\item[{unsigned char}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Setter function. Sets the transaction number overwriting the auto-\/generated number; 
\begin{DoxyParams}{Parameters}
{\em value} & the new trasaction number. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
libraries/shared/U\+D\+P\+Message.\+h\item 
libraries/shared/U\+D\+P\+Message.\+cpp\end{DoxyCompactItemize}
